[{"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\index.js":"1","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\App.js":"2","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\Header.js":"3","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\Footer.js":"4","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Votes.js":"5","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Home.js":"6","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Login.js":"7","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Register.js":"8","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\stores\\store.js":"9","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\actions\\actions.js":"10","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\AuthForm.js":"11","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\actions\\types.js":"12","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\reducers\\authReducer.js":"13","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\api\\votifyServer.js":"14","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\Loading.js":"15","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\api\\checkAuthStatus.js":"16","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Profile.js":"17","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\validators\\authValidators.js":"18","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\AuthBar.js":"19","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\_config\\roles.js":"20","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\reducers\\voteReducer.js":"21","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\WarningPopup.js":"22","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\WarningPopUp.js":"23"},{"size":287,"mtime":1612731993703,"results":"24","hashOfConfig":"25"},{"size":1755,"mtime":1613320191803,"results":"26","hashOfConfig":"25"},{"size":4883,"mtime":1613492898728,"results":"27","hashOfConfig":"25"},{"size":4541,"mtime":1613321059082,"results":"28","hashOfConfig":"25"},{"size":4540,"mtime":1613600144516,"results":"29","hashOfConfig":"25"},{"size":973,"mtime":1613402679561,"results":"30","hashOfConfig":"25"},{"size":1542,"mtime":1613597237512,"results":"31","hashOfConfig":"25"},{"size":1525,"mtime":1613597269869,"results":"32","hashOfConfig":"25"},{"size":333,"mtime":1613561376345,"results":"33","hashOfConfig":"25"},{"size":817,"mtime":1613590543352,"results":"34","hashOfConfig":"25"},{"size":11110,"mtime":1613555268805,"results":"35","hashOfConfig":"25"},{"size":331,"mtime":1613590543644,"results":"36","hashOfConfig":"25"},{"size":2061,"mtime":1613590578207,"results":"37","hashOfConfig":"25"},{"size":339,"mtime":1613136074394,"results":"38","hashOfConfig":"25"},{"size":1199,"mtime":1613139853593,"results":"39","hashOfConfig":"25"},{"size":704,"mtime":1613597009867,"results":"40","hashOfConfig":"25"},{"size":6288,"mtime":1613566080125,"results":"41","hashOfConfig":"25"},{"size":1685,"mtime":1613323148070,"results":"42","hashOfConfig":"25"},{"size":3903,"mtime":1613596382094,"results":"43","hashOfConfig":"25"},{"size":165,"mtime":1613396876537,"results":"44","hashOfConfig":"25"},{"size":452,"mtime":1613561355511,"results":"45","hashOfConfig":"25"},{"size":2119,"mtime":1613596011367,"results":"46","hashOfConfig":"25"},{"size":2185,"mtime":1613597824955,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"bwv1m0",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"50"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\index.js",[],["96","97"],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\App.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\Header.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\Footer.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Votes.js",["98"],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Home.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Login.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Register.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\stores\\store.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\actions\\actions.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\AuthForm.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\actions\\types.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\reducers\\authReducer.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\api\\votifyServer.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\Loading.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\api\\checkAuthStatus.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\screens\\Profile.js",["99","100"],"\r\n// NODE MODULES\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport chalk from 'chalk';\r\n\r\n// COMPONENTS\r\nimport AuthBar from '../components/AuthBar';\r\n\r\n// API\r\nimport votifyServer from '../api/votifyServer';\r\nimport checkAuthStatus from '../api/checkAuthStatus';\r\n\r\n// ACTIONS\r\nimport actions from '../actions/actions';\r\n\r\n// CSS\r\nimport '../styles/screens/Profile.css';\r\n\r\n// IMAGES\r\nimport sculpGif from '../images/sculp_unauthorized.gif';\r\n\r\nclass Profile extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n\r\n    // normalizes the camelCase words and make first letter upper\r\n    normalizeCamelCase(word) {\r\n\r\n        let normalizedWord = '';\r\n\r\n        for (let i = 0; i < word.length; i++) {\r\n            const isUpperCase = word[i] === word[i].toUpperCase();\r\n\r\n            if (!isUpperCase) {\r\n                normalizedWord += word[i];\r\n            } else {\r\n                normalizedWord += ` ${word[i].toLowerCase()}`;\r\n            }\r\n        }\r\n\r\n        normalizedWord = normalizedWord[0].toUpperCase() + normalizedWord.substr(1, normalizedWord.length);\r\n\r\n        return normalizedWord;\r\n    }\r\n\r\n    renderProfile() {\r\n\r\n        const userProps = Object.getOwnPropertyNames(this.props.user);\r\n        // cant display boolean values so whenever a props value is bool that means is email verified, we display yes instead of true.\r\n        let isBool = false;\r\n\r\n        return (\r\n            <div className=\"profile__profile-info\">\r\n                <ul>\r\n                    {\r\n                        userProps.map((item, index) => {\r\n                            isBool = false;\r\n\r\n                            if (typeof this.props.user[item] === 'boolean') {\r\n                                isBool = true;\r\n                            }\r\n\r\n                            return (\r\n                                <li key={index} >{this.normalizeCamelCase(item)}: {isBool ? 'Yes' : this.props.user[item]}</li>\r\n                            );\r\n                        })\r\n                    }\r\n                </ul>\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n    renderAuthButtons() {\r\n\r\n        return (\r\n            <div className=\"profile__auth-buttons\">\r\n                <button\r\n                    onClick={() => {\r\n                        this.props.sendPasswordResetLink({ email: this.props.user.email });\r\n                    }}\r\n                >\r\n                    Change Password\r\n                </button>\r\n\r\n                <button\r\n                    onClick={() => {\r\n                        this.props.sendEmailResetLink({ email: this.props.user.email });\r\n                    }}\r\n                >\r\n                    Change Email\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    configProfilePage(isLoggedIn) {\r\n\r\n        if (!isLoggedIn) {\r\n            return (\r\n                <div className=\"profile__unauthorized\">\r\n                    <iframe\r\n                        src={sculpGif}\r\n                        frameBorder=\"0\"\r\n                    />\r\n\r\n                    <p>You are not logged in.</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <AuthBar />\r\n\r\n                {this.renderProfile(true)}\r\n                <p>\r\n                    {this.props.authInfo ? this.props.authInfo : null}\r\n                </p>\r\n                {this.renderAuthButtons(true)}\r\n            </>\r\n        );\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.checkAuthStatus();\r\n    }\r\n\r\n    render() {\r\n\r\n        // TODO Replace true with real isLoggedIn\r\n        return (\r\n\r\n            <div className=\"profile__container\">\r\n                <div className=\"profile__content\">\r\n                    {this.configProfilePage(this.props.isLoggedIn)}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isLoggedIn: state.auth.isLoggedIn,\r\n        authInfo: state.auth.authInfo,\r\n        user: state.auth.user\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch, ownProps) {\r\n    return {\r\n        sendPasswordResetLink: async ({ email }) => {\r\n            try {\r\n                dispatch(actions.loading(true));\r\n                if (!email) {\r\n                    dispatch(actions.loading(false));\r\n                    return console.log('email doesnt exist');\r\n                }\r\n\r\n                await votifyServer.get('/check-auth-status');\r\n\r\n                const response = await votifyServer.post('/password-reset/send-link', { email });\r\n    \r\n                const { data } = response;\r\n    \r\n                if (data.success) {\r\n                    dispatch(actions.authInfo({ authInfo: data.msg }));\r\n                }\r\n\r\n                dispatch(actions.loading(false));\r\n    \r\n            } catch (error) {\r\n                ownProps.history.push('/login');\r\n                dispatch(actions.logOut());\r\n                dispatch(actions.authInfo({ authInfo: error.response.data.error }));\r\n            }\r\n            dispatch(actions.loading(false));\r\n        },\r\n        sendEmailResetLink: async ({ email }) => {\r\n            try {\r\n                dispatch(actions.loading(true));\r\n\r\n                if (!email) {\r\n                    dispatch(actions.loading(true));\r\n                    return console.log('email is not provided');\r\n                }\r\n\r\n                await votifyServer.get('/check-auth-status');\r\n\r\n                const response = await votifyServer.post('/email-reset/send-link', { email });\r\n                \r\n                const { data } = response;\r\n\r\n                if (data.success) {\r\n                    dispatch(actions.authInfo({ authInfo: data.msg }));\r\n                }\r\n\r\n                dispatch(actions.loading(false));\r\n            } catch (error) {\r\n                ownProps.history.push('/login');\r\n                dispatch(actions.logOut());\r\n                dispatch(actions.authInfo({ authInfo: error.response.data.error }));\r\n            }\r\n\r\n            dispatch(actions.loading(false));\r\n        },\r\n        checkAuthStatus: checkAuthStatus(dispatch, ownProps)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n\r\n","C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\validators\\authValidators.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\AuthBar.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\_config\\roles.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\reducers\\voteReducer.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\WarningPopup.js",[],"C:\\Users\\ruzga\\Desktop\\Web-Development\\votify\\src\\components\\WarningPopUp.js",[],{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","severity":1,"message":"106","line":91,"column":21,"nodeType":"107","endLine":94,"endColumn":23},{"ruleId":"108","severity":1,"message":"109","line":5,"column":8,"nodeType":"110","messageId":"111","endLine":5,"endColumn":13},{"ruleId":"105","severity":1,"message":"106","line":106,"column":21,"nodeType":"107","endLine":109,"endColumn":23},"no-native-reassign",["112"],"no-negated-in-lhs",["113"],"jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","JSXOpeningElement","no-unused-vars","'chalk' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]